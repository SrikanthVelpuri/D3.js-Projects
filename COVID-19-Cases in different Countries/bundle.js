(function (d3) {
  'use strict';

  const colorLegend = (selection, props) => {
    const {
      colorScale,
      circleRadius,
      spacing,
      textOffset
    } = props;

    const groups = selection.selectAll('g')
      .data(colorScale.domain());
    const groupsEnter = groups
      .enter().append('g')
        .attr('class', 'tick');
    groupsEnter
      .merge(groups)
        .attr('transform', (d, i) =>
          `translate(0, ${i * spacing})`
        );
    groups.exit().remove();

    groupsEnter.append('circle')
      .merge(groups.select('circle'))
        .attr('r', circleRadius)
        .attr('fill', colorScale);

    groupsEnter.append('text')
      .merge(groups.select('text'))
        .text(d => d)
        .attr('dy', '0.32em')
        .attr('x', textOffset);
  };

  const parseYear = d3.timeParse('%Y');

  const loadAndProcessData = () => 
    Promise
      .all([
        d3.csv('https://vizhub.com/curran/datasets/un-population-estimates-2017-medium-variant.csv'),
        d3.csv('https://vizhub.com/curran/datasets/un-population-estimates-2017.csv'),
        d3.csv('data01.csv'),
        d3.csv('data02.csv')
      ])
      .then(([unDataMediumVariant, unDataEstimates,data01,data02]) => {
  	      /**		
        var data01Frist = [];
        data01.forEach(d => {  // 去除多余的省份,和死亡为0 的数据
         	if( !(d['RegionCode']) && (d['Confirmed'] != 0) ){
            data01Frist.push(d);
          }
        })
        var list = {
         	name: '',
          day: '',
          deaths: '',
          confirmed: '',
        }
        // Italy China Spain Iran France United States of America United Kingdom
        var data02Second = [];

        function r(data, country){
          	var count =0,list,dataSet = [];
            
            data.forEach(d =>{
              if(d['CountryName'] == country){
  							
                 list = {
                  name: country,
                  day: count,
                  deaths: d['Deaths'],
                  confirmed: d['Confirmed']
                }
                dataSet.push(list);
                ++count;
              }
            })
          
          	return dataSet;
        }
        var wantCountry = ['Italy', 'China', 'Spain' ,'Iran' ,'France' ,'United States of America' ,'United Kingdom'];
        
        var t;
        for(var i =0;i<wantCountry.length;i++){
          t = r(data01Frist,wantCountry[i]);
          data02Second.push(t);
        }

        console.log(data02Second);

        console.log(data02Second[0][0].name+','+data02Second[0][0].day+','+data02Second[0][0].deaths+'\n');

          var i,j,str = '';
          var d= data02Second;
          for(i=0;i<d.length;i++){
            str += d[i][0].name+',0,0'+'\n';
            for(j=0;j<d[i].length;j++){
           		str += d[i][j].name+','+(d[i][j].day+1)+','+d[i][j].confirmed+'\n'; 
            }
          }
        console.log(str);
  			**/
        
        data02.forEach(d => {
          d.day = +d.day;
          d.Confirmed = +d.Confirmed;
        });

        
        
  			return data02;
    //    return melt(unDataEstimates, 1950, 2014)
    //      .concat(melt(unDataMediumVariant, 2015, 2100));
      });

  const svg = d3.select('svg');

  const width = +svg.attr('width');
  const height = +svg.attr('height');

  const render = data => {

    const title = 'COVID-19 confirmed cases by country';

    const xValue = d => d.day;
    const xAxisLabel = 'days since start (start = 10 cases)';
    
    const yValue = d => {
      if (d.name == 'China' && d.day > 52) {
        return d.Confirmed * Math.abs(2 * Math.random() - 0.5);
      } else {
        return d.Confirmed;
      }
    };
    const yAxisLabel = 'Cases';
    
    const colorValue = d => d.name;
    
    const margin = { top: 80, right: 280, bottom: 88, left: 105 };
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    setTimeout(() => {
      renderLine(data,92);   	
    }, 2000);
   
    function renderLine(data,day) {

  		var renderdata = [];
    	for(var i=0;i<data.length;i++) {
      	for(var j=0;j<=day;j++) {
        	if(data[i].day == j) {
  	      	renderdata.push(data[i]); 
  				}
  			}
  	  }
  	  data = renderdata;

  		var xScale = d3.scaleLinear()
      	.domain([d3.min(data, xValue),Math.ceil(d3.max(data,xValue)+d3.max(data,xValue)/10)])
      	.range([0, innerWidth]);
    
  		var yScale = d3.scaleLinear()
      	.domain(d3.extent(data, yValue))
      	.range([innerHeight, 0])
      	.nice();
    
      const colorScale = d3.scaleOrdinal(d3.schemeCategory10);
    
    svg.select('g').remove();
    const g = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
   
    const xAxis = d3.axisBottom(xScale)
      .tickSize(-innerHeight)
      .tickPadding(14);
    
    const yAxisTickFormat = number =>
      d3.format('.2s')(number)
        .replace('G', 'B')
        .replace('.0', '');

    const yAxis = d3.axisLeft(yScale)
      .tickSize(-innerWidth)
      .tickFormat(yAxisTickFormat)
      .tickPadding(10);
    
    const yAxisG = g.append('g').attr('class','y-axis').call(yAxis);
    yAxisG.selectAll('.domain').remove();
    
      
    yAxisG.selectAll('.axis-label').remove();
    yAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', -60)
        .attr('x', -innerHeight / 2)
        .attr('fill', 'black')
        .attr('transform', `rotate(-90)`)
        .attr('text-anchor', 'middle')
        .text(yAxisLabel); 
    
    const xAxisG = g.append('g').attr('class','x-axis').call(xAxis)
      .attr('transform', `translate(0,${innerHeight})`);
    
    xAxisG.select('.domain').remove();

    xAxisG.selectAll('.axis-label').remove();
    xAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', 80)
        .attr('x', innerWidth / 2)
        .attr('fill', 'black')
        .text(xAxisLabel);
    
    const lineGenerator = d3.line()
      .x(d => xScale(xValue(d)))
      .y(d => yScale(yValue(d)))
      .curve(d3.curveBasis);
    
    const lastYValue = d =>
      yValue(d.values[d.values.length - 1]);
    
    const nested = d3.nest()
      .key(colorValue)
      .entries(data)
      .sort((a, b) =>
        d3.descending(lastYValue(a), lastYValue(b))
      );
    
   // var t= nested[0].values[nested[0].values.length-1];

    colorScale.domain(nested.map(d => d.key));
    const linePath =  g.selectAll('.line-path').data(nested);
      
    linePath
      .enter().append('path')
        .attr('class', 'line-path')
        .attr('d', d => lineGenerator(d.values))
        .attr('stroke', d => colorScale(d.key))
      .merge(linePath)
        .transition().duration(10)
        .attr('d', d => {
      console.log(JSON.stringify(d.values));
      return lineGenerator(d.values);
    });
    	
     var t;
  const circleOfLine = g.selectAll('circle').data(nested);
    
  	circleOfLine 
      .enter().append('circle')
    		.attr('cx', d => {
  				t = d.values[d.values.length-1];
      		t = xScale(xValue(t));
  	 	    return t;
     })	
    		.attr('cy', d => {
  				t = d.values[d.values.length-1];
      		t = yScale(yValue(t));
      		return t;
     })	
        .attr('fill', d => colorScale(d.key))
    		.attr('r',7)
      .merge(circleOfLine)
    		.attr('cx', d => {
  				t = d.values[d.values.length-1];
      		t = xScale(xValue(t));
  	 	    return t;
     })	
    		.attr('cy', d => {
  				t = d.values[d.values.length-1];
      		t = yScale(yValue(t));
      		return t;
     });
   
     const lineText =  g.selectAll('.xyLabelText').data(nested);
  	lineText
      .enter().append('text')
    		.attr('class','xyLabelText')
    		.attr('x', d => {
  				t = d.values[d.values.length-1];
      		t = xScale(xValue(t));
  	 	    return t;
     })	
    		.attr('y', d => {
  				t = d.values[d.values.length-1];
      		t = yScale(yValue(t));
      		return t-10;
     })	
    		.attr('fill', d => colorScale(d.key))
    		.attr('text-anchor','right')
        .text(d => d.values[0].name)
    .merge(lineText)
  	.attr('x', d => {
  				t = d.values[d.values.length-1];
      		t = xScale(xValue(t));
  	 	    return t;
     })	
  	.attr('y', d => {
  				t = d.values[d.values.length-1];
      		t = yScale(yValue(t));
      		return t-10;
     })	;
     
    
    g.selectAll('.title').remove();
    g.append('text')
        .attr('class', 'title')
        .attr('y', -30)
        .text(title);

    svg.selectAll('.circleTip').remove();
    svg.append('g')
      .attr('class','circleTip')
      .attr('transform', `translate(700,110)`)
      .call(colorLegend, {
        colorScale,
        circleRadius: 10,
        spacing: 55,
        textOffset: 15
      });

    }
    
  };

  loadAndProcessData().then(render);

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImNvbG9yTGVnZW5kLmpzIiwibG9hZEFuZFByb2Nlc3NEYXRhLmpzIiwiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbG9yTGVnZW5kID0gKHNlbGVjdGlvbiwgcHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbG9yU2NhbGUsXG4gICAgY2lyY2xlUmFkaXVzLFxuICAgIHNwYWNpbmcsXG4gICAgdGV4dE9mZnNldFxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZ3JvdXBzID0gc2VsZWN0aW9uLnNlbGVjdEFsbCgnZycpXG4gICAgLmRhdGEoY29sb3JTY2FsZS5kb21haW4oKSk7XG4gIGNvbnN0IGdyb3Vwc0VudGVyID0gZ3JvdXBzXG4gICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aWNrJyk7XG4gIGdyb3Vwc0VudGVyXG4gICAgLm1lcmdlKGdyb3VwcylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT5cbiAgICAgICAgYHRyYW5zbGF0ZSgwLCAke2kgKiBzcGFjaW5nfSlgXG4gICAgICApO1xuICBncm91cHMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gIGdyb3Vwc0VudGVyLmFwcGVuZCgnY2lyY2xlJylcbiAgICAubWVyZ2UoZ3JvdXBzLnNlbGVjdCgnY2lyY2xlJykpXG4gICAgICAuYXR0cigncicsIGNpcmNsZVJhZGl1cylcbiAgICAgIC5hdHRyKCdmaWxsJywgY29sb3JTY2FsZSk7XG5cbiAgZ3JvdXBzRW50ZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAubWVyZ2UoZ3JvdXBzLnNlbGVjdCgndGV4dCcpKVxuICAgICAgLnRleHQoZCA9PiBkKVxuICAgICAgLmF0dHIoJ2R5JywgJzAuMzJlbScpXG4gICAgICAuYXR0cigneCcsIHRleHRPZmZzZXQpO1xufSIsImltcG9ydCB7IGNzdiwgcmFuZ2UsIHRpbWVQYXJzZSB9IGZyb20gJ2QzJztcblxuY29uc3QgcGFyc2VZZWFyID0gdGltZVBhcnNlKCclWScpO1xuXG5jb25zdCBhbGxDYXBzID0gc3RyID0+IHN0ciA9PT0gc3RyLnRvVXBwZXJDYXNlKCk7XG5jb25zdCBpc1JlZ2lvbiA9IG5hbWUgPT4gYWxsQ2FwcyhuYW1lKSAmJiBuYW1lICE9PSAnV09STEQnO1xuXG5jb25zdCBtZWx0ID0gKHVuRGF0YSwgbWluWWVhciwgbWF4WWVhcikgPT4ge1xuICBjb25zdCB5ZWFycyA9IHJhbmdlKG1pblllYXIsIG1heFllYXIgKyAxKTtcblxuICBjb25zdCBkYXRhID0gW107XG5cbiAgdW5EYXRhLmZvckVhY2goZCA9PiB7XG4gICAgY29uc3QgbmFtZSA9IGRbJ1JlZ2lvbiwgc3VicmVnaW9uLCBjb3VudHJ5IG9yIGFyZWEgKiddXG4gICAgICAucmVwbGFjZSgnQU5EIFRIRScsICcmJyk7XG4gICAgeWVhcnMuZm9yRWFjaCh5ZWFyID0+IHtcbiAgICAgIGNvbnN0IHBvcHVsYXRpb24gPSArZFt5ZWFyXS5yZXBsYWNlKC8gL2csICcnKSAqIDEwMDA7XG4gICAgICBjb25zdCByb3cgPSB7XG4gICAgICAgIHllYXI6IHBhcnNlWWVhcih5ZWFyKSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgcG9wdWxhdGlvblxuICAgICAgfTtcbiAgICAgIGRhdGEucHVzaChyb3cpO1xuICAgIH0pO1xuICB9KTtcblx0Y29uc29sZS5sb2coZGF0YSk7XG4gIHJldHVybiBkYXRhLmZpbHRlcihkID0+IGlzUmVnaW9uKGQubmFtZSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvYWRBbmRQcm9jZXNzRGF0YSA9ICgpID0+IFxuICBQcm9taXNlXG4gICAgLmFsbChbXG4gICAgICBjc3YoJ2h0dHBzOi8vdml6aHViLmNvbS9jdXJyYW4vZGF0YXNldHMvdW4tcG9wdWxhdGlvbi1lc3RpbWF0ZXMtMjAxNy1tZWRpdW0tdmFyaWFudC5jc3YnKSxcbiAgICAgIGNzdignaHR0cHM6Ly92aXpodWIuY29tL2N1cnJhbi9kYXRhc2V0cy91bi1wb3B1bGF0aW9uLWVzdGltYXRlcy0yMDE3LmNzdicpLFxuICAgICAgY3N2KCdkYXRhMDEuY3N2JyksXG4gICAgICBjc3YoJ2RhdGEwMi5jc3YnKVxuICAgIF0pXG4gICAgLnRoZW4oKFt1bkRhdGFNZWRpdW1WYXJpYW50LCB1bkRhdGFFc3RpbWF0ZXMsZGF0YTAxLGRhdGEwMl0pID0+IHtcblx0ICAgICAgLyoqXHRcdFxuICAgICAgdmFyIGRhdGEwMUZyaXN0ID0gW107XG4gICAgICBkYXRhMDEuZm9yRWFjaChkID0+IHsgIC8vIMOlwo7Cu8OpwpnCpMOlwqTCmsOkwr3CmcOnwprChMOnwpzCgcOkwrvCvSzDpcKSwozDpsKtwrvDpMK6wqHDpMK4wrowIMOnwprChMOmwpXCsMOmwo3CrlxuICAgICAgIFx0aWYoICEoZFsnUmVnaW9uQ29kZSddKSAmJiAoZFsnQ29uZmlybWVkJ10gIT0gMCkgKXtcbiAgICAgICAgICBkYXRhMDFGcmlzdC5wdXNoKGQpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgdmFyIGxpc3QgPSB7XG4gICAgICAgXHRuYW1lOiAnJyxcbiAgICAgICAgZGF5OiAnJyxcbiAgICAgICAgZGVhdGhzOiAnJyxcbiAgICAgICAgY29uZmlybWVkOiAnJyxcbiAgICAgIH1cbiAgICAgIC8vIEl0YWx5IENoaW5hIFNwYWluIElyYW4gRnJhbmNlIFVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYSBVbml0ZWQgS2luZ2RvbVxuICAgICAgdmFyIGRhdGEwMlNlY29uZCA9IFtdO1xuXG4gICAgICBmdW5jdGlvbiByKGRhdGEsIGNvdW50cnkpe1xuICAgICAgICBcdHZhciBjb3VudCA9MCxsaXN0LGRhdGFTZXQgPSBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICBkYXRhLmZvckVhY2goZCA9PntcbiAgICAgICAgICAgIGlmKGRbJ0NvdW50cnlOYW1lJ10gPT0gY291bnRyeSl7XG5cdFx0XHRcdFx0XHRcdFxuICAgICAgICAgICAgICAgbGlzdCA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBjb3VudHJ5LFxuICAgICAgICAgICAgICAgIGRheTogY291bnQsXG4gICAgICAgICAgICAgICAgZGVhdGhzOiBkWydEZWF0aHMnXSxcbiAgICAgICAgICAgICAgICBjb25maXJtZWQ6IGRbJ0NvbmZpcm1lZCddXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGF0YVNldC5wdXNoKGxpc3QpO1xuICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBcdHJldHVybiBkYXRhU2V0O1xuICAgICAgfVxuICAgICAgdmFyIHdhbnRDb3VudHJ5ID0gWydJdGFseScsICdDaGluYScsICdTcGFpbicgLCdJcmFuJyAsJ0ZyYW5jZScgLCdVbml0ZWQgU3RhdGVzIG9mIEFtZXJpY2EnICwnVW5pdGVkIEtpbmdkb20nXTtcbiAgICAgIFxuICAgICAgdmFyIHQ7XG4gICAgICBmb3IodmFyIGkgPTA7aTx3YW50Q291bnRyeS5sZW5ndGg7aSsrKXtcbiAgICAgICAgdCA9IHIoZGF0YTAxRnJpc3Qsd2FudENvdW50cnlbaV0pO1xuICAgICAgICBkYXRhMDJTZWNvbmQucHVzaCh0KTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coZGF0YTAyU2Vjb25kKTtcblxuICAgICAgY29uc29sZS5sb2coZGF0YTAyU2Vjb25kWzBdWzBdLm5hbWUrJywnK2RhdGEwMlNlY29uZFswXVswXS5kYXkrJywnK2RhdGEwMlNlY29uZFswXVswXS5kZWF0aHMrJ1xcbicpO1xuXG4gICAgICAgIHZhciBpLGosc3RyID0gJyc7XG4gICAgICAgIHZhciBkPSBkYXRhMDJTZWNvbmQ7XG4gICAgICAgIGZvcihpPTA7aTxkLmxlbmd0aDtpKyspe1xuICAgICAgICAgIHN0ciArPSBkW2ldWzBdLm5hbWUrJywwLDAnKydcXG4nO1xuICAgICAgICAgIGZvcihqPTA7ajxkW2ldLmxlbmd0aDtqKyspe1xuICAgICAgICAgXHRcdHN0ciArPSBkW2ldW2pdLm5hbWUrJywnKyhkW2ldW2pdLmRheSsxKSsnLCcrZFtpXVtqXS5jb25maXJtZWQrJ1xcbic7IFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgY29uc29sZS5sb2coc3RyKTtcblx0XHRcdCoqL1xuICAgICAgXG4gICAgICBkYXRhMDIuZm9yRWFjaChkID0+IHtcbiAgICAgICAgZC5kYXkgPSArZC5kYXk7XG4gICAgICAgIGQuQ29uZmlybWVkID0gK2QuQ29uZmlybWVkO1xuICAgICAgfSlcblxuICAgICAgXG4gICAgICBcblx0XHRcdHJldHVybiBkYXRhMDI7XG4gIC8vICAgIHJldHVybiBtZWx0KHVuRGF0YUVzdGltYXRlcywgMTk1MCwgMjAxNClcbiAgLy8gICAgICAuY29uY2F0KG1lbHQodW5EYXRhTWVkaXVtVmFyaWFudCwgMjAxNSwgMjEwMCkpO1xuICAgIH0pOyIsImltcG9ydCB7XG4gIHNlbGVjdCxcbiAgY3N2LFxuICBzY2FsZUxpbmVhcixcbiAgc2NhbGVUaW1lLFxuICBzY2FsZU9yZGluYWwsXG4gIGV4dGVudCxcbiAgYXhpc0xlZnQsXG4gIGF4aXNCb3R0b20sXG4gIGxpbmUsXG4gIGN1cnZlQmFzaXMsXG4gIG5lc3QsXG4gIHNjaGVtZUNhdGVnb3J5MTAsXG4gIGRlc2NlbmRpbmcsXG4gIGZvcm1hdCxcbiAgbWF4LFxuICBtaW5cbn0gZnJvbSAnZDMnO1xuXG5pbXBvcnQgeyBjb2xvckxlZ2VuZCB9IGZyb20gJy4vY29sb3JMZWdlbmQnO1xuaW1wb3J0IHsgbG9hZEFuZFByb2Nlc3NEYXRhIH0gZnJvbSAnLi9sb2FkQW5kUHJvY2Vzc0RhdGEnO1xuY29uc3Qgc3ZnID0gc2VsZWN0KCdzdmcnKTtcblxuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuXG5jb25zdCByZW5kZXIgPSBkYXRhID0+IHtcblxuICBjb25zdCB0aXRsZSA9ICdDT1ZJRC0xOSBjb25maXJtZWQgY2FzZXMgYnkgY291bnRyeSc7XG5cbiAgY29uc3QgeFZhbHVlID0gZCA9PiBkLmRheTtcbiAgY29uc3QgeEF4aXNMYWJlbCA9ICdkYXlzIHNpbmNlIHN0YXJ0IChzdGFydCA9IDEwIGNhc2VzKSc7XG4gIFxuICBjb25zdCB5VmFsdWUgPSBkID0+IHtcbiAgICBpZiAoZC5uYW1lID09ICdDaGluYScgJiYgZC5kYXkgPiA1Mikge1xuICAgICAgcmV0dXJuIGQuQ29uZmlybWVkICogTWF0aC5hYnMoMiAqIE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZC5Db25maXJtZWQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGNpcmNsZVJhZGl1cyA9IDY7XG4gIGNvbnN0IHlBeGlzTGFiZWwgPSAnQ2FzZXMnO1xuICBcbiAgY29uc3QgY29sb3JWYWx1ZSA9IGQgPT4gZC5uYW1lO1xuICBcbiAgY29uc3QgbWFyZ2luID0geyB0b3A6IDgwLCByaWdodDogMjgwLCBib3R0b206IDg4LCBsZWZ0OiAxMDUgfTtcbiAgY29uc3QgaW5uZXJXaWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIGNvbnN0IGlubmVySGVpZ2h0ID0gaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gIFxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICByZW5kZXJMaW5lKGRhdGEsOTIpOyAgIFx0XG4gIH0sIDIwMDApO1xuIFxuICBmdW5jdGlvbiByZW5kZXJMaW5lKGRhdGEsZGF5KSB7XG5cblx0XHR2YXIgcmVuZGVyZGF0YSA9IFtdO1xuICBcdGZvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKSB7XG4gICAgXHRmb3IodmFyIGo9MDtqPD1kYXk7aisrKSB7XG4gICAgICBcdGlmKGRhdGFbaV0uZGF5ID09IGopIHtcblx0ICAgICAgXHRyZW5kZXJkYXRhLnB1c2goZGF0YVtpXSk7IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdCAgfVxuXHQgIGRhdGEgPSByZW5kZXJkYXRhO1xuXG5cdFx0dmFyIHhTY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICBcdC5kb21haW4oW21pbihkYXRhLCB4VmFsdWUpLE1hdGguY2VpbChtYXgoZGF0YSx4VmFsdWUpK21heChkYXRhLHhWYWx1ZSkvMTApXSlcbiAgICBcdC5yYW5nZShbMCwgaW5uZXJXaWR0aF0pO1xuICBcblx0XHR2YXIgeVNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgIFx0LmRvbWFpbihleHRlbnQoZGF0YSwgeVZhbHVlKSlcbiAgICBcdC5yYW5nZShbaW5uZXJIZWlnaHQsIDBdKVxuICAgIFx0Lm5pY2UoKTtcbiAgXG4gICAgY29uc3QgY29sb3JTY2FsZSA9IHNjYWxlT3JkaW5hbChzY2hlbWVDYXRlZ29yeTEwKTtcbiAgXG4gIHN2Zy5zZWxlY3QoJ2cnKS5yZW1vdmUoKTtcbiAgY29uc3QgZyA9IHN2Zy5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCR7bWFyZ2luLnRvcH0pYCk7XG4gXG4gIGNvbnN0IHhBeGlzID0gYXhpc0JvdHRvbSh4U2NhbGUpXG4gICAgLnRpY2tTaXplKC1pbm5lckhlaWdodClcbiAgICAudGlja1BhZGRpbmcoMTQpO1xuICBcbiAgY29uc3QgeUF4aXNUaWNrRm9ybWF0ID0gbnVtYmVyID0+XG4gICAgZm9ybWF0KCcuMnMnKShudW1iZXIpXG4gICAgICAucmVwbGFjZSgnRycsICdCJylcbiAgICAgIC5yZXBsYWNlKCcuMCcsICcnKTtcblxuICBjb25zdCB5QXhpcyA9IGF4aXNMZWZ0KHlTY2FsZSlcbiAgICAudGlja1NpemUoLWlubmVyV2lkdGgpXG4gICAgLnRpY2tGb3JtYXQoeUF4aXNUaWNrRm9ybWF0KVxuICAgIC50aWNrUGFkZGluZygxMCk7XG4gIFxuICBjb25zdCB5QXhpc0cgPSBnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywneS1heGlzJykuY2FsbCh5QXhpcyk7XG4gIHlBeGlzRy5zZWxlY3RBbGwoJy5kb21haW4nKS5yZW1vdmUoKTtcbiAgXG4gICAgXG4gIHlBeGlzRy5zZWxlY3RBbGwoJy5heGlzLWxhYmVsJykucmVtb3ZlKCk7XG4gIHlBeGlzRy5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXMtbGFiZWwnKVxuICAgICAgLmF0dHIoJ3knLCAtNjApXG4gICAgICAuYXR0cigneCcsIC1pbm5lckhlaWdodCAvIDIpXG4gICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgYHJvdGF0ZSgtOTApYClcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLnRleHQoeUF4aXNMYWJlbCk7IFxuICBcbiAgY29uc3QgeEF4aXNHID0gZy5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsJ3gtYXhpcycpLmNhbGwoeEF4aXMpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke2lubmVySGVpZ2h0fSlgKTtcbiAgXG4gIHhBeGlzRy5zZWxlY3QoJy5kb21haW4nKS5yZW1vdmUoKTtcblxuICB4QXhpc0cuc2VsZWN0QWxsKCcuYXhpcy1sYWJlbCcpLnJlbW92ZSgpO1xuICB4QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJylcbiAgICAgIC5hdHRyKCd5JywgODApXG4gICAgICAuYXR0cigneCcsIGlubmVyV2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLnRleHQoeEF4aXNMYWJlbCk7XG4gIFxuICBjb25zdCBsaW5lR2VuZXJhdG9yID0gbGluZSgpXG4gICAgLngoZCA9PiB4U2NhbGUoeFZhbHVlKGQpKSlcbiAgICAueShkID0+IHlTY2FsZSh5VmFsdWUoZCkpKVxuICAgIC5jdXJ2ZShjdXJ2ZUJhc2lzKTtcbiAgXG4gIGNvbnN0IGxhc3RZVmFsdWUgPSBkID0+XG4gICAgeVZhbHVlKGQudmFsdWVzW2QudmFsdWVzLmxlbmd0aCAtIDFdKTtcbiAgXG4gIGNvbnN0IG5lc3RlZCA9IG5lc3QoKVxuICAgIC5rZXkoY29sb3JWYWx1ZSlcbiAgICAuZW50cmllcyhkYXRhKVxuICAgIC5zb3J0KChhLCBiKSA9PlxuICAgICAgZGVzY2VuZGluZyhsYXN0WVZhbHVlKGEpLCBsYXN0WVZhbHVlKGIpKVxuICAgICk7XG4gIFxuIC8vIHZhciB0PSBuZXN0ZWRbMF0udmFsdWVzW25lc3RlZFswXS52YWx1ZXMubGVuZ3RoLTFdO1xuXG4gIGNvbG9yU2NhbGUuZG9tYWluKG5lc3RlZC5tYXAoZCA9PiBkLmtleSkpO1xuICBjb25zdCBsaW5lUGF0aCA9ICBnLnNlbGVjdEFsbCgnLmxpbmUtcGF0aCcpLmRhdGEobmVzdGVkKTtcbiAgICBcbiAgbGluZVBhdGhcbiAgICAuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtcGF0aCcpXG4gICAgICAuYXR0cignZCcsIGQgPT4gbGluZUdlbmVyYXRvcihkLnZhbHVlcykpXG4gICAgICAuYXR0cignc3Ryb2tlJywgZCA9PiBjb2xvclNjYWxlKGQua2V5KSlcbiAgICAubWVyZ2UobGluZVBhdGgpXG4gICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwKVxuICAgICAgLmF0dHIoJ2QnLCBkID0+IHtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkLnZhbHVlcykpO1xuICAgIHJldHVybiBsaW5lR2VuZXJhdG9yKGQudmFsdWVzKTtcbiAgfSk7XG4gIFx0XG4gICB2YXIgdDtcbmNvbnN0IGNpcmNsZU9mTGluZSA9IGcuc2VsZWN0QWxsKCdjaXJjbGUnKS5kYXRhKG5lc3RlZCk7XG4gIFxuXHRjaXJjbGVPZkxpbmUgXG4gICAgLmVudGVyKCkuYXBwZW5kKCdjaXJjbGUnKVxuICBcdFx0LmF0dHIoJ2N4JywgZCA9PiB7XG5cdFx0XHRcdHQgPSBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGgtMV07XG4gICAgXHRcdHQgPSB4U2NhbGUoeFZhbHVlKHQpKTtcblx0IFx0ICAgIHJldHVybiB0O1xuICAgfSlcdFxuICBcdFx0LmF0dHIoJ2N5JywgZCA9PiB7XG5cdFx0XHRcdHQgPSBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGgtMV07XG4gICAgXHRcdHQgPSB5U2NhbGUoeVZhbHVlKHQpKTtcbiAgICBcdFx0cmV0dXJuIHQ7XG4gICB9KVx0XG4gICAgICAuYXR0cignZmlsbCcsIGQgPT4gY29sb3JTY2FsZShkLmtleSkpXG4gIFx0XHQuYXR0cigncicsNylcbiAgICAubWVyZ2UoY2lyY2xlT2ZMaW5lKVxuICBcdFx0LmF0dHIoJ2N4JywgZCA9PiB7XG5cdFx0XHRcdHQgPSBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGgtMV07XG4gICAgXHRcdHQgPSB4U2NhbGUoeFZhbHVlKHQpKTtcblx0IFx0ICAgIHJldHVybiB0O1xuICAgfSlcdFxuICBcdFx0LmF0dHIoJ2N5JywgZCA9PiB7XG5cdFx0XHRcdHQgPSBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGgtMV07XG4gICAgXHRcdHQgPSB5U2NhbGUoeVZhbHVlKHQpKTtcbiAgICBcdFx0cmV0dXJuIHQ7XG4gICB9KTtcbiBcbiAgIGNvbnN0IGxpbmVUZXh0ID0gIGcuc2VsZWN0QWxsKCcueHlMYWJlbFRleHQnKS5kYXRhKG5lc3RlZCk7XG5cdGxpbmVUZXh0XG4gICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgXHRcdC5hdHRyKCdjbGFzcycsJ3h5TGFiZWxUZXh0JylcbiAgXHRcdC5hdHRyKCd4JywgZCA9PiB7XG5cdFx0XHRcdHQgPSBkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGgtMV07XG4gICAgXHRcdHQgPSB4U2NhbGUoeFZhbHVlKHQpKTtcblx0IFx0ICAgIHJldHVybiB0O1xuICAgfSlcdFxuICBcdFx0LmF0dHIoJ3knLCBkID0+IHtcblx0XHRcdFx0dCA9IGQudmFsdWVzW2QudmFsdWVzLmxlbmd0aC0xXTtcbiAgICBcdFx0dCA9IHlTY2FsZSh5VmFsdWUodCkpO1xuICAgIFx0XHRyZXR1cm4gdC0xMDtcbiAgIH0pXHRcbiAgXHRcdC5hdHRyKCdmaWxsJywgZCA9PiBjb2xvclNjYWxlKGQua2V5KSlcbiAgXHRcdC5hdHRyKCd0ZXh0LWFuY2hvcicsJ3JpZ2h0JylcbiAgICAgIC50ZXh0KGQgPT4gZC52YWx1ZXNbMF0ubmFtZSlcbiAgLm1lcmdlKGxpbmVUZXh0KVxuXHQuYXR0cigneCcsIGQgPT4ge1xuXHRcdFx0XHR0ID0gZC52YWx1ZXNbZC52YWx1ZXMubGVuZ3RoLTFdO1xuICAgIFx0XHR0ID0geFNjYWxlKHhWYWx1ZSh0KSk7XG5cdCBcdCAgICByZXR1cm4gdDtcbiAgIH0pXHRcblx0LmF0dHIoJ3knLCBkID0+IHtcblx0XHRcdFx0dCA9IGQudmFsdWVzW2QudmFsdWVzLmxlbmd0aC0xXTtcbiAgICBcdFx0dCA9IHlTY2FsZSh5VmFsdWUodCkpO1xuICAgIFx0XHRyZXR1cm4gdC0xMDtcbiAgIH0pXHQ7XG4gICBcbiAgXG4gIGcuc2VsZWN0QWxsKCcudGl0bGUnKS5yZW1vdmUoKTtcbiAgZy5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpdGxlJylcbiAgICAgIC5hdHRyKCd5JywgLTMwKVxuICAgICAgLnRleHQodGl0bGUpO1xuXG4gIHN2Zy5zZWxlY3RBbGwoJy5jaXJjbGVUaXAnKS5yZW1vdmUoKTtcbiAgc3ZnLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ2NsYXNzJywnY2lyY2xlVGlwJylcbiAgICAuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSg3MDAsMTEwKWApXG4gICAgLmNhbGwoY29sb3JMZWdlbmQsIHtcbiAgICAgIGNvbG9yU2NhbGUsXG4gICAgICBjaXJjbGVSYWRpdXM6IDEwLFxuICAgICAgc3BhY2luZzogNTUsXG4gICAgICB0ZXh0T2Zmc2V0OiAxNVxuICAgIH0pO1xuXG4gIH1cbiAgXG59O1xuXG5sb2FkQW5kUHJvY2Vzc0RhdGEoKS50aGVuKHJlbmRlcik7Il0sIm5hbWVzIjpbInRpbWVQYXJzZSIsImNzdiIsInNlbGVjdCIsInNjYWxlTGluZWFyIiwibWluIiwibWF4IiwiZXh0ZW50Iiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkxMCIsImF4aXNCb3R0b20iLCJmb3JtYXQiLCJheGlzTGVmdCIsImxpbmUiLCJjdXJ2ZUJhc2lzIiwibmVzdCIsImRlc2NlbmRpbmciXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sV0FBVyxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssS0FBSztFQUNqRCxFQUFFLE1BQU07RUFDUixJQUFJLFVBQVU7RUFDZCxJQUFJLFlBQVk7RUFDaEIsSUFBSSxPQUFPO0VBQ1gsSUFBSSxVQUFVO0VBQ2QsR0FBRyxHQUFHLEtBQUssQ0FBQztBQUNaO0VBQ0EsRUFBRSxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztFQUN6QyxLQUFLLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztFQUMvQixFQUFFLE1BQU0sV0FBVyxHQUFHLE1BQU07RUFDNUIsS0FBSyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO0VBQ3hCLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztFQUM3QixFQUFFLFdBQVc7RUFDYixLQUFLLEtBQUssQ0FBQyxNQUFNLENBQUM7RUFDbEIsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7RUFDOUIsUUFBUSxDQUFDLGFBQWEsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztFQUN0QyxPQUFPLENBQUM7RUFDUixFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN6QjtFQUNBLEVBQUUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7RUFDOUIsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztFQUNuQyxPQUFPLElBQUksQ0FBQyxHQUFHLEVBQUUsWUFBWSxDQUFDO0VBQzlCLE9BQU8sSUFBSSxDQUFDLE1B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